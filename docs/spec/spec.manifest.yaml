spec_version: 1
project:
  name: Sonic
  purpose: 'Crypto automation & monitoring for Solana/Jupiter: wallet ops, swaps/perps,
    alerts, dashboards.'
  primary_entrypoints:
  - type: cli
    id: CLI-CONSOLE
    path: backend/scripts/unified_jupiter_console.py
  - type: api
    id: API-HTTP
    path: backend/api/
  - type: web
    id: WEB-FRONTEND
    path: frontend/
owners:
- area: Core
  github: '@BubbaDiego'
  slack: '@Geno'
modules:
- id: MOD-API
  path: backend/api/
  purpose: FastAPI endpoints for monitors, portfolio, Jupiter ops.
  depends_on:
  - MOD-SVC
  - MOD-WALLET
  - EXT-JUPITER
  - EXT-SOLANA
- id: MOD-SVC
  path: backend/core/
  purpose: 'Service layer: DataLocker, Cyclone, Monitor Core, Alert V2, PositionStore.'
  depends_on:
  - MOD-DATA
  - EXT-REDIS
- id: MOD-DATA
  path: backend/data/
  purpose: Persistence utilities and data models.
  depends_on: []
- id: MOD-WALLET
  path: backend/core/wallet_core/
  purpose: Wallet operations, key derivation/management, signing.
  depends_on:
  - EXT-SOLANA
- id: MOD-SCRIPTS
  path: backend/scripts/
  purpose: Operational CLIs (perps_open_long, send_token_standalone, verify_all_tables_exist).
  depends_on:
  - MOD-WALLET
  - MOD-SVC
- id: MOD-AUTO
  path: backend/core/auto_core/
  purpose: "Automation flows (Solflare/Jupiter) and helpers."
  depends_on:
  - EXT-PLAYWRIGHT
  - EXT-JUPITER
- id: MOD-FRONTEND
  path: frontend/
  purpose: React/Vite/Tailwind UI (Sonic Dashboard, Monitor Manager, Trader Shop).
  depends_on:
  - API-HTTP
apis:
- id: API-OPENAPI
  type: openapi
  path: backend/api/openapi.yaml
- id: API-MONITOR-STATUS
  type: http
  method: GET
  path: /api/monitor-status/
  request_schema: null
  response_schema: SCHEMA-MONITORSTATUS
- id: API-PORTFOLIO-LATEST
  type: http
  method: GET
  path: /portfolio/latest
  request_schema: null
  response_schema: SCHEMA-PORTFOLIO
- id: API-POSITIONS
  type: http
  method: GET
  path: /positions/
  request_schema: null
  response_schema: SCHEMA-POSITIONS
- id: API-post-positions
  type: http
  method: POST
  path: /positions/
  response_schema: SCHEMA-POSITIONS
- id: API-delete-positions_{pos_id}
  type: http
  method: DELETE
  path: /positions/{pos_id}
  response_schema: SCHEMA-POSITIONS_{POS_ID}
- id: API-post-positions_snapshot
  type: http
  method: POST
  path: /positions/snapshot
  response_schema: SCHEMA-POSITIONS_SNAPSHOT
- id: API-post-positions_update
  type: http
  method: POST
  path: /positions/update
  response_schema: SCHEMA-POSITIONS_UPDATE
- id: API-post-positions_enrich
  type: http
  method: POST
  path: /positions/enrich
  response_schema: SCHEMA-POSITIONS_ENRICH
- id: API-get-portfolio
  type: http
  method: GET
  path: /portfolio/
  response_schema: SCHEMA-PORTFOLIO
- id: API-post-portfolio
  type: http
  method: POST
  path: /portfolio/
  response_schema: SCHEMA-PORTFOLIO
- id: API-put-portfolio_{entry_id}
  type: http
  method: PUT
  path: /portfolio/{entry_id}
  response_schema: SCHEMA-PORTFOLIO_{ENTRY_ID}
- id: API-delete-portfolio_{entry_id}
  type: http
  method: DELETE
  path: /portfolio/{entry_id}
  response_schema: SCHEMA-PORTFOLIO_{ENTRY_ID}
- id: API-get-api_portfolio_latest_snapshot
  type: http
  method: GET
  path: /api/portfolio/latest_snapshot
  response_schema: SCHEMA-API_PORTFOLIO_LATEST_SNAPSHOT
- id: API-post-api_portfolio_update_snapshot
  type: http
  method: POST
  path: /api/portfolio/update_snapshot
  response_schema: SCHEMA-API_PORTFOLIO_UPDATE_SNAPSHOT
- id: API-post-cyclone_run
  type: http
  method: POST
  path: /cyclone/run
  response_schema: SCHEMA-CYCLONE_RUN
- id: API-post-cyclone_prices
  type: http
  method: POST
  path: /cyclone/prices
  response_schema: SCHEMA-CYCLONE_PRICES
- id: API-post-cyclone_positions
  type: http
  method: POST
  path: /cyclone/positions
  response_schema: SCHEMA-CYCLONE_POSITIONS
- id: API-delete-cyclone_data
  type: http
  method: DELETE
  path: /cyclone/data
  response_schema: SCHEMA-CYCLONE_DATA
- id: API-get-wallets
  type: http
  method: GET
  path: /wallets/
  response_schema: SCHEMA-WALLETS
- id: API-post-wallets
  type: http
  method: POST
  path: /wallets/
  response_schema: SCHEMA-WALLETS
- id: API-put-wallets_{name}
  type: http
  method: PUT
  path: /wallets/{name}
  response_schema: SCHEMA-WALLETS_{NAME}
- id: API-delete-wallets_{name}
  type: http
  method: DELETE
  path: /wallets/{name}
  response_schema: SCHEMA-WALLETS_{NAME}
- id: API-post-wallets_star_wars
  type: http
  method: POST
  path: /wallets/star_wars
  response_schema: SCHEMA-WALLETS_STAR_WARS
- id: API-get-api_traders
  type: http
  method: GET
  path: /api/traders/
  response_schema: SCHEMA-API_TRADERS
- id: API-get-api_traders_{name}
  type: http
  method: GET
  path: /api/traders/{name}
  response_schema: SCHEMA-API_TRADERS_{NAME}
- id: API-post-api_traders
  type: http
  method: POST
  path: /api/traders/
  response_schema: SCHEMA-API_TRADERS
- id: API-put-api_traders_{name}
  type: http
  method: PUT
  path: /api/traders/{name}
  response_schema: SCHEMA-API_TRADERS_{NAME}
- id: API-delete-api_traders_{name}
  type: http
  method: DELETE
  path: /api/traders/{name}
  response_schema: SCHEMA-API_TRADERS_{NAME}
- id: API-post-api_traders_quick_import
  type: http
  method: POST
  path: /api/traders/quick_import
  response_schema: SCHEMA-API_TRADERS_QUICK_IMPORT
- id: API-get-api_traders_export
  type: http
  method: GET
  path: /api/traders/export
  response_schema: SCHEMA-API_TRADERS_EXPORT
- id: API-get-alert_thresholds
  type: http
  method: GET
  path: /alert_thresholds/
  response_schema: SCHEMA-ALERT_THRESHOLDS
- id: API-get-alert_thresholds_bulk
  type: http
  method: GET
  path: /alert_thresholds/bulk
  response_schema: SCHEMA-ALERT_THRESHOLDS_BULK
- id: API-put-alert_thresholds_bulk
  type: http
  method: PUT
  path: /alert_thresholds/bulk
  response_schema: SCHEMA-ALERT_THRESHOLDS_BULK
- id: API-get-alert_thresholds_{threshold_id}
  type: http
  method: GET
  path: /alert_thresholds/{threshold_id}
  response_schema: SCHEMA-ALERT_THRESHOLDS_{THRESHOLD_ID}
- id: API-post-alert_thresholds
  type: http
  method: POST
  path: /alert_thresholds/
  response_schema: SCHEMA-ALERT_THRESHOLDS
- id: API-put-alert_thresholds_{threshold_id}
  type: http
  method: PUT
  path: /alert_thresholds/{threshold_id}
  response_schema: SCHEMA-ALERT_THRESHOLDS_{THRESHOLD_ID}
- id: API-delete-alert_thresholds_{threshold_id}
  type: http
  method: DELETE
  path: /alert_thresholds/{threshold_id}
  response_schema: SCHEMA-ALERT_THRESHOLDS_{THRESHOLD_ID}
- id: API-get-db_admin_tables
  type: http
  method: GET
  path: /db_admin/tables
  response_schema: SCHEMA-DB_ADMIN_TABLES
- id: API-get-db_admin_tables_{table}
  type: http
  method: GET
  path: /db_admin/tables/{table}
  response_schema: SCHEMA-DB_ADMIN_TABLES_{TABLE}
- id: API-post-alerts_refresh
  type: http
  method: POST
  path: /alerts/refresh
  response_schema: SCHEMA-ALERTS_REFRESH
- id: API-post-alerts_create_all
  type: http
  method: POST
  path: /alerts/create_all
  response_schema: SCHEMA-ALERTS_CREATE_ALL
- id: API-post-alerts_delete_all
  type: http
  method: POST
  path: /alerts/delete_all
  response_schema: SCHEMA-ALERTS_DELETE_ALL
- id: API-get-alerts_monitor
  type: http
  method: GET
  path: /alerts/monitor
  response_schema: SCHEMA-ALERTS_MONITOR
- id: API-get-xcom_providers
  type: http
  method: GET
  path: /xcom/providers
  response_schema: SCHEMA-XCOM_PROVIDERS
- id: API-put-xcom_providers
  type: http
  method: PUT
  path: /xcom/providers
  response_schema: SCHEMA-XCOM_PROVIDERS
- id: API-get-xcom_status
  type: http
  method: GET
  path: /xcom/status
  response_schema: SCHEMA-XCOM_STATUS
- id: API-post-xcom_test
  type: http
  method: POST
  path: /xcom/test
  response_schema: SCHEMA-XCOM_TEST
- id: API-get-xcom_last_ping
  type: http
  method: GET
  path: /xcom/last_ping
  response_schema: SCHEMA-XCOM_LAST_PING
- id: API-get-session
  type: http
  method: GET
  path: /session/
  response_schema: SCHEMA-SESSION_STATE
- id: API-get-session_history
  type: http
  method: GET
  path: /session/history
  response_schema: SCHEMA-SESSION_HISTORY
- id: API-post-session
  type: http
  method: POST
  path: /session/
  response_schema: SCHEMA-SESSION_STATE
- id: API-put-session_{sid}
  type: http
  method: PUT
  path: /session/{sid}
  response_schema: SCHEMA-SESSION_{SID}
- id: API-put-session
  type: http
  method: PUT
  path: /session/
  response_schema: SCHEMA-SESSION_STATE
- id: API-post-session_reset
  type: http
  method: POST
  path: /session/reset
  response_schema: SCHEMA-SESSION_STATE
- id: API-post-session_close
  type: http
  method: POST
  path: /session/close
  response_schema: SCHEMA-SESSION_STATE
- id: API-get-api_notifications
  type: http
  method: GET
  path: /api/notifications/
  response_schema: SCHEMA-API_NOTIFICATIONS
- id: API-get-api_notifications_unread-count
  type: http
  method: GET
  path: /api/notifications/unread-count
  response_schema: SCHEMA-API_NOTIFICATIONS_UNREAD-COUNT
- id: API-post-api_notifications_{notif_id}_read
  type: http
  method: POST
  path: /api/notifications/{notif_id}/read
  response_schema: SCHEMA-API_NOTIFICATIONS_{NOTIF_ID}_READ
- id: API-post-api_notifications_mark_all_read
  type: http
  method: POST
  path: /api/notifications/mark_all_read
  response_schema: SCHEMA-API_NOTIFICATIONS_MARK_ALL_READ
- id: API-get-api_monitor-settings_market
  type: http
  method: GET
  path: /api/monitor-settings/market
  response_schema: SCHEMA-API_MONITOR-SETTINGS_MARKET
- id: API-post-api_monitor-settings_market
  type: http
  method: POST
  path: /api/monitor-settings/market
  response_schema: SCHEMA-API_MONITOR-SETTINGS_MARKET
- id: API-post-api_monitor-settings_market_reset-anchors
  type: http
  method: POST
  path: /api/monitor-settings/market/reset-anchors
  response_schema: SCHEMA-API_MONITOR-SETTINGS_MARKET_RESET-ANCHORS
- id: API-get-api_monitor-settings_sonic
  type: http
  method: GET
  path: /api/monitor-settings/sonic
  response_schema: SCHEMA-API_MONITOR-SETTINGS_SONIC
- id: API-post-api_monitor-settings_sonic
  type: http
  method: POST
  path: /api/monitor-settings/sonic
  response_schema: SCHEMA-API_MONITOR-SETTINGS_SONIC
- id: API-get-api_monitor-settings_liquidation
  type: http
  method: GET
  path: /api/monitor-settings/liquidation
  response_schema: SCHEMA-API_MONITOR-SETTINGS_LIQUIDATION
- id: API-post-api_monitor-settings_liquidation
  type: http
  method: POST
  path: /api/monitor-settings/liquidation
  response_schema: SCHEMA-API_MONITOR-SETTINGS_LIQUIDATION
- id: API-get-api_monitor-settings_profit
  type: http
  method: GET
  path: /api/monitor-settings/profit
  response_schema: SCHEMA-API_MONITOR-SETTINGS_PROFIT
- id: API-post-api_monitor-settings_profit
  type: http
  method: POST
  path: /api/monitor-settings/profit
  response_schema: SCHEMA-API_MONITOR-SETTINGS_PROFIT
- id: API-get-api_liquidation_nearest-distance
  type: http
  method: GET
  path: /api/liquidation/nearest-distance
  response_schema: SCHEMA-API_LIQUIDATION_NEAREST-DISTANCE
- id: API-get-api_market_latest
  type: http
  method: GET
  path: /api/market/latest
  response_schema: SCHEMA-API_MARKET_LATEST
- id: API-get-prices
  type: http
  method: GET
  path: /prices/
  response_schema: SCHEMA-PRICES
- id: API-post-api_solana_balance
  type: http
  method: POST
  path: /api/solana/balance
  response_schema: SCHEMA-API_SOLANA_BALANCE
- id: API-post-api_wallets_verify
  type: http
  method: POST
  path: /api/wallets/verify
  response_schema: SCHEMA-API_WALLETS_VERIFY
- id: API-post-api_wallets_verify-bulk
  type: http
  method: POST
  path: /api/wallets/verify-bulk
  response_schema: SCHEMA-API_WALLETS_VERIFY-BULK
- id: API-post-api_wallet_send
  type: http
  method: POST
  path: /api/wallet/send
  response_schema: SCHEMA-API_WALLET_SEND
- id: API-get-api_wallet_debug
  type: http
  method: GET
  path: /api/wallet/debug
  response_schema: SCHEMA-API_WALLET_DEBUG
- id: API-post-api_jupiter_wallet_send
  type: http
  method: POST
  path: /api/jupiter/wallet/send
  response_schema: SCHEMA-API_JUPITER_WALLET_SEND
- id: API-post-api_jupiter_wallet_preflight-send
  type: http
  method: POST
  path: /api/jupiter/wallet/preflight-send
  response_schema: SCHEMA-API_JUPITER_WALLET_PREFLIGHT-SEND
- id: API-get-api_jupiter_health
  type: http
  method: GET
  path: /api/jupiter/health
  response_schema: SCHEMA-API_JUPITER_HEALTH
- id: API-get-api_jupiter_signer_info
  type: http
  method: GET
  path: /api/jupiter/signer/info
  response_schema: SCHEMA-API_JUPITER_SIGNER_INFO
- id: API-get-api_jupiter_debug_signer
  type: http
  method: GET
  path: /api/jupiter/debug/signer
  response_schema: SCHEMA-API_JUPITER_DEBUG_SIGNER
- id: API-get-api_jupiter_debug_config
  type: http
  method: GET
  path: /api/jupiter/debug/config
  response_schema: SCHEMA-API_JUPITER_DEBUG_CONFIG
- id: API-get-api_jupiter_whoami
  type: http
  method: GET
  path: /api/jupiter/whoami
  response_schema: SCHEMA-API_JUPITER_WHOAMI
- id: API-get-api_jupiter_wallet_balance
  type: http
  method: GET
  path: /api/jupiter/wallet/balance
  response_schema: SCHEMA-API_JUPITER_WALLET_BALANCE
- id: API-get-api_jupiter_wallet_estimate-sol-spend
  type: http
  method: GET
  path: /api/jupiter/wallet/estimate-sol-spend
  response_schema: SCHEMA-API_JUPITER_WALLET_ESTIMATE-SOL-SPEND
- id: API-get-api_jupiter_wallet_portfolio
  type: http
  method: GET
  path: /api/jupiter/wallet/portfolio
  response_schema: SCHEMA-API_JUPITER_WALLET_PORTFOLIO
- id: API-get-api_jupiter_price
  type: http
  method: GET
  path: /api/jupiter/price
  response_schema: SCHEMA-API_JUPITER_PRICE
- id: API-post-api_jupiter_trigger_create
  type: http
  method: POST
  path: /api/jupiter/trigger/create
  response_schema: SCHEMA-API_JUPITER_TRIGGER_CREATE
- id: API-get-api_jupiter_trigger_orders
  type: http
  method: GET
  path: /api/jupiter/trigger/orders
  response_schema: SCHEMA-API_JUPITER_TRIGGER_ORDERS
- id: API-post-api_jupiter_trigger_cancel
  type: http
  method: POST
  path: /api/jupiter/trigger/cancel
  response_schema: SCHEMA-API_JUPITER_TRIGGER_CANCEL
- id: API-post-api_jupiter_swap_quote
  type: http
  method: POST
  path: /api/jupiter/swap/quote
  response_schema: SCHEMA-API_JUPITER_SWAP_QUOTE
- id: API-post-api_jupiter_swap_execute
  type: http
  method: POST
  path: /api/jupiter/swap/execute
  response_schema: SCHEMA-API_JUPITER_SWAP_EXECUTE
- id: API-get-api_jupiter_txlog
  type: http
  method: GET
  path: /api/jupiter/txlog
  response_schema: SCHEMA-API_JUPITER_TXLOG
- id: API-get-api_jupiter_txlog_by-sig
  type: http
  method: GET
  path: /api/jupiter/txlog/by-sig
  response_schema: SCHEMA-API_JUPITER_TXLOG_BY-SIG
- id: API-get-api_jupiter_txlog_latest
  type: http
  method: GET
  path: /api/jupiter/txlog/latest
  response_schema: SCHEMA-API_JUPITER_TXLOG_LATEST
- id: API-get-api_perps_markets
  type: http
  method: GET
  path: /api/perps/markets
  response_schema: SCHEMA-API_PERPS_MARKETS
- id: API-get-api_perps_markets_resolve
  type: http
  method: GET
  path: /api/perps/markets/resolve
  response_schema: SCHEMA-API_PERPS_MARKETS_RESOLVE
- id: API-get-api_perps_positions
  type: http
  method: GET
  path: /api/perps/positions
  response_schema: SCHEMA-API_PERPS_POSITIONS
- id: API-post-api_perps_order
  type: http
  method: POST
  path: /api/perps/order
  response_schema: SCHEMA-API_PERPS_ORDER
- id: API-post-api_perps_close
  type: http
  method: POST
  path: /api/perps/close
  response_schema: SCHEMA-API_PERPS_CLOSE
- id: API-get-api_perps_positions_detailed
  type: http
  method: GET
  path: /api/perps/positions/detailed
  response_schema: SCHEMA-API_PERPS_POSITIONS_DETAILED
- id: API-get-api_perps_debug_idl
  type: http
  method: GET
  path: /api/perps/debug/idl
  response_schema: SCHEMA-API_PERPS_DEBUG_IDL
- id: API-get-api_perps_debug_idl-names
  type: http
  method: GET
  path: /api/perps/debug/idl-names
  response_schema: SCHEMA-API_PERPS_DEBUG_IDL-NAMES
- id: API-get-api_perps_debug_idl-inspect
  type: http
  method: GET
  path: /api/perps/debug/idl-inspect
  response_schema: SCHEMA-API_PERPS_DEBUG_IDL-INSPECT
- id: API-get-api_perps_debug_owner-offset
  type: http
  method: GET
  path: /api/perps/debug/owner-offset
  response_schema: SCHEMA-API_PERPS_DEBUG_OWNER-OFFSET
- id: API-get-api_perps_positions_raw
  type: http
  method: GET
  path: /api/perps/positions/raw
  response_schema: SCHEMA-API_PERPS_POSITIONS_RAW
- id: API-post-api_perps_order_open
  type: http
  method: POST
  path: /api/perps/order/open
  response_schema: SCHEMA-API_PERPS_ORDER_OPEN
- id: API-post-api_perps_order_close
  type: http
  method: POST
  path: /api/perps/order/close
  response_schema: SCHEMA-API_PERPS_ORDER_CLOSE
- id: API-get-api_perps_position_by-market
  type: http
  method: GET
  path: /api/perps/position/by-market
  response_schema: SCHEMA-API_PERPS_POSITION_BY-MARKET
- id: API-get-api_perps_positions_db
  type: http
  method: GET
  path: /api/perps/positions/db
  response_schema: SCHEMA-API_PERPS_POSITIONS_DB
- id: API-get-api_perps_positions_detailed
  type: http
  method: GET
  path: /api/perps/positions/detailed
  response_schema: SCHEMA-API_PERPS_POSITIONS_DETAILED
- id: API-get-api_perps_positions_health
  type: http
  method: GET
  path: /api/perps/positions/health
  response_schema: SCHEMA-API_PERPS_POSITIONS_HEALTH
- id: API-get-api_perps_positions_detailed
  type: http
  method: GET
  path: /api/perps/positions/detailed
  response_schema: SCHEMA-API_PERPS_POSITIONS_DETAILED
- id: API-post-api_jupiter_open
  type: http
  method: POST
  path: /api/jupiter/open
  response_schema: SCHEMA-API_JUPITER_OPEN
- id: API-post-api_jupiter_close
  type: http
  method: POST
  path: /api/jupiter/close
  response_schema: SCHEMA-API_JUPITER_CLOSE
- id: API-get-api_jupiter_status
  type: http
  method: GET
  path: /api/jupiter/status
  response_schema: SCHEMA-API_JUPITER_STATUS
- id: API-get-api_jupiter_debug-paths
  type: http
  method: GET
  path: /api/jupiter/debug-paths
  response_schema: SCHEMA-API_JUPITER_DEBUG-PATHS
- id: API-post-api_jupiter_connect
  type: http
  method: POST
  path: /api/jupiter/connect
  response_schema: SCHEMA-API_JUPITER_CONNECT
- id: API-post-api_jupiter_select-asset
  type: http
  method: POST
  path: /api/jupiter/select-asset
  response_schema: SCHEMA-API_JUPITER_SELECT-ASSET
- id: API-get-api_monitor-status_{monitor_type}
  type: http
  method: GET
  path: /api/monitor-status/{monitor_type}
  response_schema: SCHEMA-API_MONITOR-STATUS_{MONITOR_TYPE}
- id: API-post-api_monitor-status_{monitor_type}
  type: http
  method: POST
  path: /api/monitor-status/{monitor_type}
  response_schema: SCHEMA-API_MONITOR-STATUS_{MONITOR_TYPE}
- id: API-post-api_monitor-status_reset-liquid-snooze
  type: http
  method: POST
  path: /api/monitor-status/reset-liquid-snooze
  response_schema: SCHEMA-API_MONITOR-STATUS_RESET-LIQUID-SNOOZE
- id: API-get-monitor_status
  type: http
  method: GET
  path: /monitor_status/
  response_schema: SCHEMA-MONITOR_STATUS
- id: API-get-monitors
  type: http
  method: GET
  path: /monitors/
  response_schema: SCHEMA-MONITORS
- id: API-post-monitors_sonic_cycle
  type: http
  method: POST
  path: /monitors/sonic_cycle
  response_schema: SCHEMA-MONITORS_SONIC_CYCLE
- id: API-get-monitors_sonic_events
  type: http
  method: GET
  path: /monitors/sonic_events
  response_schema: SCHEMA-MONITORS_SONIC_EVENTS
- id: API-post-monitors_{name}
  type: http
  method: POST
  path: /monitors/{name}
  response_schema: SCHEMA-MONITORS_{NAME}
- id: API-get-api_auto-core_wallet-address
  type: http
  method: GET
  path: /api/auto-core/wallet-address
  response_schema: SCHEMA-API_AUTO-CORE_WALLET-ADDRESS
- id: API-post-api_auto-core_register-wallet-address
  type: http
  method: POST
  path: /api/auto-core/register-wallet-address
  response_schema: SCHEMA-API_AUTO-CORE_REGISTER-WALLET-ADDRESS
- id: API-post-api_auto-core_open-browser
  type: http
  method: POST
  path: /api/auto-core/open-browser
  response_schema: SCHEMA-API_AUTO-CORE_OPEN-BROWSER
- id: API-post-api_auto-core_connect-jupiter
  type: http
  method: POST
  path: /api/auto-core/connect-jupiter
  response_schema: SCHEMA-API_AUTO-CORE_CONNECT-JUPITER
- id: API-post-api_auto-core_select-asset
  type: http
  method: POST
  path: /api/auto-core/select-asset
  response_schema: SCHEMA-API_AUTO-CORE_SELECT-ASSET
- id: API-post-api_auto-core_solflare-unlock
  type: http
  method: POST
  path: /api/auto-core/solflare-unlock
  response_schema: SCHEMA-API_AUTO-CORE_SOLFLARE-UNLOCK
- id: API-get-api_auto-core_jupiter-status
  type: http
  method: GET
  path: /api/auto-core/jupiter-status
  response_schema: SCHEMA-API_AUTO-CORE_JUPITER-STATUS
- id: API-post-api_auto-core_close-browser
  type: http
  method: POST
  path: /api/auto-core/close-browser
  response_schema: SCHEMA-API_AUTO-CORE_CLOSE-BROWSER
- id: API-post-api_auto-core_run-request
  type: http
  method: POST
  path: /api/auto-core/run-request
  response_schema: SCHEMA-API_AUTO-CORE_RUN-REQUEST
- id: API-get-api_fun_random
  type: http
  method: GET
  path: /api/fun/random
  response_schema: SCHEMA-API_FUN_RANDOM
- id: API-get-api_status
  type: http
  method: GET
  path: /api/status
  response_schema: SCHEMA-API_STATUS
events:
- id: EVT-SONIC_EVENTS
  topic: monitors.sonic_events
  producers:
  - MOD-SVC
  consumers:
  - MOD-API
  - MOD-FRONTEND
schemas:
- id: SCHEMA-POSITION
  path: docs/spec/schemas/Position.json
- id: SCHEMA-POSITIONS
  path: docs/spec/schemas/Positions.json
- id: SCHEMA-ALERT
  path: docs/spec/schemas/Alert.json
- id: SCHEMA-MONITORSTATUS
  path: docs/spec/schemas/MonitorStatus.json
- id: SCHEMA-PORTFOLIO
  path: docs/spec/schemas/Portfolio.json
- id: SCHEMA-POSITIONS_{POS_ID}
  path: docs/spec/schemas/positions_{pos_id}.json
- id: SCHEMA-POSITIONS_SNAPSHOT
  path: docs/spec/schemas/positions_snapshot.json
- id: SCHEMA-POSITIONS_UPDATE
  path: docs/spec/schemas/positions_update.json
- id: SCHEMA-POSITIONS_ENRICH
  path: docs/spec/schemas/positions_enrich.json
- id: SCHEMA-PORTFOLIO_{ENTRY_ID}
  path: docs/spec/schemas/portfolio_{entry_id}.json
- id: SCHEMA-API_PORTFOLIO_LATEST_SNAPSHOT
  path: docs/spec/schemas/api_portfolio_latest_snapshot.json
- id: SCHEMA-API_PORTFOLIO_UPDATE_SNAPSHOT
  path: docs/spec/schemas/api_portfolio_update_snapshot.json
- id: SCHEMA-CYCLONE_RUN
  path: docs/spec/schemas/cyclone_run.json
- id: SCHEMA-CYCLONE_PRICES
  path: docs/spec/schemas/cyclone_prices.json
- id: SCHEMA-CYCLONE_POSITIONS
  path: docs/spec/schemas/cyclone_positions.json
- id: SCHEMA-CYCLONE_DATA
  path: docs/spec/schemas/cyclone_data.json
- id: SCHEMA-WALLETS
  path: docs/spec/schemas/wallets.json
- id: SCHEMA-WALLETS_{NAME}
  path: docs/spec/schemas/wallets_{name}.json
- id: SCHEMA-WALLETS_STAR_WARS
  path: docs/spec/schemas/wallets_star_wars.json
- id: SCHEMA-API_TRADERS
  path: docs/spec/schemas/api_traders.json
- id: SCHEMA-API_TRADERS_{NAME}
  path: docs/spec/schemas/api_traders_{name}.json
- id: SCHEMA-API_TRADERS_QUICK_IMPORT
  path: docs/spec/schemas/api_traders_quick_import.json
- id: SCHEMA-API_TRADERS_EXPORT
  path: docs/spec/schemas/api_traders_export.json
- id: SCHEMA-ALERT_THRESHOLDS
  path: docs/spec/schemas/alert_thresholds.json
- id: SCHEMA-ALERT_THRESHOLDS_BULK
  path: docs/spec/schemas/alert_thresholds_bulk.json
- id: SCHEMA-ALERT_THRESHOLDS_{THRESHOLD_ID}
  path: docs/spec/schemas/alert_thresholds_{threshold_id}.json
- id: SCHEMA-DB_ADMIN_TABLES
  path: docs/spec/schemas/db_admin_tables.json
- id: SCHEMA-DB_ADMIN_TABLES_{TABLE}
  path: docs/spec/schemas/db_admin_tables_{table}.json
- id: SCHEMA-ALERTS_REFRESH
  path: docs/spec/schemas/alerts_refresh.json
- id: SCHEMA-ALERTS_CREATE_ALL
  path: docs/spec/schemas/alerts_create_all.json
- id: SCHEMA-ALERTS_DELETE_ALL
  path: docs/spec/schemas/alerts_delete_all.json
- id: SCHEMA-ALERTS_MONITOR
  path: docs/spec/schemas/alerts_monitor.json
- id: SCHEMA-XCOM_PROVIDERS
  path: docs/spec/schemas/xcom_providers.json
- id: SCHEMA-XCOM_TEST
  path: docs/spec/schemas/xcom_test.json
- id: SCHEMA-XCOM_LAST_PING
  path: docs/spec/schemas/xcom_last_ping.json
- id: SCHEMA-SESSION_HISTORY
  path: docs/spec/schemas/session_history.json
- id: SCHEMA-SESSION
  path: docs/spec/schemas/session.json
- id: SCHEMA-SESSION_{SID}
  path: docs/spec/schemas/session_{sid}.json
- id: SCHEMA-API_NOTIFICATIONS
  path: docs/spec/schemas/api_notifications.json
- id: SCHEMA-API_NOTIFICATIONS_UNREAD-COUNT
  path: docs/spec/schemas/api_notifications_unread-count.json
- id: SCHEMA-API_NOTIFICATIONS_{NOTIF_ID}_READ
  path: docs/spec/schemas/api_notifications_{notif_id}_read.json
- id: SCHEMA-API_NOTIFICATIONS_MARK_ALL_READ
  path: docs/spec/schemas/api_notifications_mark_all_read.json
- id: SCHEMA-API_MONITOR-SETTINGS_MARKET
  path: docs/spec/schemas/api_monitor-settings_market.json
- id: SCHEMA-API_MONITOR-SETTINGS_MARKET_RESET-ANCHORS
  path: docs/spec/schemas/api_monitor-settings_market_reset-anchors.json
- id: SCHEMA-API_MONITOR-SETTINGS_SONIC
  path: docs/spec/schemas/api_monitor-settings_sonic.json
- id: SCHEMA-API_MONITOR-SETTINGS_LIQUIDATION
  path: docs/spec/schemas/api_monitor-settings_liquidation.json
- id: SCHEMA-API_MONITOR-SETTINGS_PROFIT
  path: docs/spec/schemas/api_monitor-settings_profit.json
- id: SCHEMA-API_LIQUIDATION_NEAREST-DISTANCE
  path: docs/spec/schemas/api_liquidation_nearest-distance.json
- id: SCHEMA-API_MARKET_LATEST
  path: docs/spec/schemas/api_market_latest.json
- id: SCHEMA-PRICES
  path: docs/spec/schemas/prices.json
- id: SCHEMA-API_SOLANA_BALANCE
  path: docs/spec/schemas/api_solana_balance.json
- id: SCHEMA-API_WALLETS_VERIFY
  path: docs/spec/schemas/api_wallets_verify.json
- id: SCHEMA-API_WALLETS_VERIFY-BULK
  path: docs/spec/schemas/api_wallets_verify-bulk.json
- id: SCHEMA-API_WALLET_SEND
  path: docs/spec/schemas/api_wallet_send.json
- id: SCHEMA-API_WALLET_DEBUG
  path: docs/spec/schemas/api_wallet_debug.json
- id: SCHEMA-API_JUPITER_WALLET_SEND
  path: docs/spec/schemas/api_jupiter_wallet_send.json
- id: SCHEMA-API_JUPITER_WALLET_PREFLIGHT-SEND
  path: docs/spec/schemas/api_jupiter_wallet_preflight-send.json
- id: SCHEMA-API_JUPITER_HEALTH
  path: docs/spec/schemas/api_jupiter_health.json
- id: SCHEMA-API_JUPITER_SIGNER_INFO
  path: docs/spec/schemas/api_jupiter_signer_info.json
- id: SCHEMA-API_JUPITER_DEBUG_SIGNER
  path: docs/spec/schemas/api_jupiter_debug_signer.json
- id: SCHEMA-API_JUPITER_DEBUG_CONFIG
  path: docs/spec/schemas/api_jupiter_debug_config.json
- id: SCHEMA-API_JUPITER_WHOAMI
  path: docs/spec/schemas/api_jupiter_whoami.json
- id: SCHEMA-API_JUPITER_WALLET_BALANCE
  path: docs/spec/schemas/api_jupiter_wallet_balance.json
- id: SCHEMA-API_JUPITER_WALLET_ESTIMATE-SOL-SPEND
  path: docs/spec/schemas/api_jupiter_wallet_estimate-sol-spend.json
- id: SCHEMA-API_JUPITER_WALLET_PORTFOLIO
  path: docs/spec/schemas/api_jupiter_wallet_portfolio.json
- id: SCHEMA-API_JUPITER_PRICE
  path: docs/spec/schemas/api_jupiter_price.json
- id: SCHEMA-API_JUPITER_TRIGGER_CREATE
  path: docs/spec/schemas/api_jupiter_trigger_create.json
- id: SCHEMA-API_JUPITER_TRIGGER_CANCEL
  path: docs/spec/schemas/api_jupiter_trigger_cancel.json
- id: SCHEMA-API_JUPITER_SWAP_QUOTE
  path: docs/spec/schemas/api_jupiter_swap_quote.json
- id: SCHEMA-API_JUPITER_SWAP_EXECUTE
  path: docs/spec/schemas/api_jupiter_swap_execute.json
- id: SCHEMA-API_JUPITER_TXLOG
  path: docs/spec/schemas/api_jupiter_txlog.json
- id: SCHEMA-API_JUPITER_TXLOG_BY-SIG
  path: docs/spec/schemas/api_jupiter_txlog_by-sig.json
- id: SCHEMA-API_JUPITER_TXLOG_LATEST
  path: docs/spec/schemas/api_jupiter_txlog_latest.json
- id: SCHEMA-API_PERPS_ORDER
  path: docs/spec/schemas/api_perps_order.json
- id: SCHEMA-API_PERPS_CLOSE
  path: docs/spec/schemas/api_perps_close.json
- id: SCHEMA-API_PERPS_POSITIONS_DETAILED
  path: docs/spec/schemas/api_perps_positions_detailed.json
- id: SCHEMA-API_PERPS_DEBUG_IDL
  path: docs/spec/schemas/api_perps_debug_idl.json
- id: SCHEMA-API_PERPS_DEBUG_IDL-NAMES
  path: docs/spec/schemas/api_perps_debug_idl-names.json
- id: SCHEMA-API_PERPS_DEBUG_IDL-INSPECT
  path: docs/spec/schemas/api_perps_debug_idl-inspect.json
- id: SCHEMA-API_PERPS_DEBUG_OWNER-OFFSET
  path: docs/spec/schemas/api_perps_debug_owner-offset.json
- id: SCHEMA-API_PERPS_POSITIONS_RAW
  path: docs/spec/schemas/api_perps_positions_raw.json
- id: SCHEMA-API_PERPS_ORDER_OPEN
  path: docs/spec/schemas/api_perps_order_open.json
- id: SCHEMA-API_PERPS_ORDER_CLOSE
  path: docs/spec/schemas/api_perps_order_close.json
- id: SCHEMA-API_PERPS_POSITION_BY-MARKET
  path: docs/spec/schemas/api_perps_position_by-market.json
- id: SCHEMA-API_PERPS_POSITIONS_DB
  path: docs/spec/schemas/api_perps_positions_db.json
- id: SCHEMA-API_PERPS_POSITIONS_HEALTH
  path: docs/spec/schemas/api_perps_positions_health.json
- id: SCHEMA-API_JUPITER_OPEN
  path: docs/spec/schemas/api_jupiter_open.json
- id: SCHEMA-API_JUPITER_CLOSE
  path: docs/spec/schemas/api_jupiter_close.json
- id: SCHEMA-API_JUPITER_STATUS
  path: docs/spec/schemas/api_jupiter_status.json
- id: SCHEMA-API_JUPITER_DEBUG-PATHS
  path: docs/spec/schemas/api_jupiter_debug-paths.json
- id: SCHEMA-API_JUPITER_CONNECT
  path: docs/spec/schemas/api_jupiter_connect.json
- id: SCHEMA-API_JUPITER_SELECT-ASSET
  path: docs/spec/schemas/api_jupiter_select-asset.json
- id: SCHEMA-API_MONITOR-STATUS_{MONITOR_TYPE}
  path: docs/spec/schemas/api_monitor-status_{monitor_type}.json
- id: SCHEMA-API_MONITOR-STATUS_RESET-LIQUID-SNOOZE
  path: docs/spec/schemas/api_monitor-status_reset-liquid-snooze.json
- id: SCHEMA-MONITOR_STATUS
  path: docs/spec/schemas/monitor_status.json
- id: SCHEMA-MONITORS
  path: docs/spec/schemas/monitors.json
- id: SCHEMA-MONITORS_SONIC_CYCLE
  path: docs/spec/schemas/monitors_sonic_cycle.json
- id: SCHEMA-MONITORS_{NAME}
  path: docs/spec/schemas/monitors_{name}.json
- id: SCHEMA-API_AUTO-CORE_WALLET-ADDRESS
  path: docs/spec/schemas/api_auto-core_wallet-address.json
- id: SCHEMA-API_AUTO-CORE_REGISTER-WALLET-ADDRESS
  path: docs/spec/schemas/api_auto-core_register-wallet-address.json
- id: SCHEMA-API_AUTO-CORE_OPEN-BROWSER
  path: docs/spec/schemas/api_auto-core_open-browser.json
- id: SCHEMA-API_AUTO-CORE_CONNECT-JUPITER
  path: docs/spec/schemas/api_auto-core_connect-jupiter.json
- id: SCHEMA-API_AUTO-CORE_SELECT-ASSET
  path: docs/spec/schemas/api_auto-core_select-asset.json
- id: SCHEMA-API_AUTO-CORE_SOLFLARE-UNLOCK
  path: docs/spec/schemas/api_auto-core_solflare-unlock.json
- id: SCHEMA-API_AUTO-CORE_JUPITER-STATUS
  path: docs/spec/schemas/api_auto-core_jupiter-status.json
- id: SCHEMA-API_AUTO-CORE_CLOSE-BROWSER
  path: docs/spec/schemas/api_auto-core_close-browser.json
- id: SCHEMA-API_AUTO-CORE_RUN-REQUEST
  path: docs/spec/schemas/api_auto-core_run-request.json
- id: SCHEMA-API_FUN_RANDOM
  path: docs/spec/schemas/api_fun_random.json
- id: SCHEMA-API_STATUS
  path: docs/spec/schemas/api_status.json
- id: SCHEMA-XCOM_STATUS
  path: docs/spec/schemas/xcom_status.json
- id: SCHEMA-SESSION_STATE
  path: docs/spec/schemas/session_state.json
- id: SCHEMA-API_JUPITER_TRIGGER_ORDERS
  path: docs/spec/schemas/api_jupiter_trigger_orders.json
- id: SCHEMA-API_PERPS_MARKETS
  path: docs/spec/schemas/api_perps_markets.json
- id: SCHEMA-API_PERPS_MARKETS_RESOLVE
  path: docs/spec/schemas/api_perps_markets_resolve.json
- id: SCHEMA-API_PERPS_POSITIONS
  path: docs/spec/schemas/api_perps_positions.json
- id: SCHEMA-MONITORS_SONIC_EVENTS
  path: docs/spec/schemas/monitors_sonic_events.json
config:
- key: RPC_URL
  required: true
  used_by:
  - MOD-AUTO
  - MOD-SVC
- key: HELIUS_RPC_URL
  required: false
  used_by:
  - MOD-SVC
- key: WALLET_SECRET_BASE64
  required: true
  used_by:
  - MOD-WALLET
- key: JUPITER_API_BASE
  required: false
  used_by:
  - MOD-API
  - MOD-AUTO
- key: REDIS_URL
  required: false
  used_by:
  - MOD-SVC
observability:
  logs:
  - name: cyclone_engine_startup
    owner: MOD-SVC
  - name: positions_loaded
    owner: MOD-SVC
  metrics:
  - name: request_latency_ms
    type: histogram
    owner: MOD-API
  - name: monitor_events_processed_total
    type: counter
    owner: MOD-SVC
  - name: perps_order_failures_total
    type: counter
    owner: MOD-SCRIPTS
slo:
  latency_p95_ms: 300
  success_rate_pct: 99.0
security:
  authn: 'Local/dev: none or bearer; Prod: service tokens'
  pii: false
build:
  commands:
  - name: install-backend
    run: python -m pip install -r requirements.txt
  - name: install-frontend
    run: cd frontend && npm install
  - name: dev-api
    run: uvicorn backend.main:app --reload
  - name: dev-web
    run: cd frontend && npm run dev
tests:
  commands:
  - name: unit
    run: pytest -q
limitations:
- Perps automation assumes Solflare extension is preconfigured and accessible to Playwright.
- "Wallet commands require funded fee account (\u2265 0.01 SOL)."
